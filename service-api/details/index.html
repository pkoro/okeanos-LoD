<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Technical details - λ on Demand</title>
  

  <link rel="shortcut icon" href="../../img/favicon.ico">

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../../css/highlight.css">

  
  <script>
    // Current page data
    var mkdocs_page_name = "Technical details";
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js"></script>
  <script src="../../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../../js/highlight.pack.js"></script>
  <script src="../../js/theme.js"></script> 

  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> λ on Demand</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        <ul class="current">
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../..">Home</a>
        
    </li>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Fokia</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../fokia/details/">Technical details</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../fokia/usage/">Usage</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Service API</span></li>

        
            
    <li class="toctree-l1 current">
        <a class="current" href="./">Technical details</a>
        
            <ul>
            
                <li class="toctree-l3"><a href="#service-api">λ service API</a></li>
                
            
                <li class="toctree-l3"><a href="#service-database">λ service database</a></li>
                
            
                <li class="toctree-l3"><a href="#cqrs-implementation">CQRS implementation</a></li>
                
            
            </ul>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../">Usage</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Authentication/">Authentication</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../CreateLambdaInstance/">Create Lambda Instance</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../LambdaInstancesList/">List Lambda Instances</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../LambdaInstancesCount/">Count Lambda Instances</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../LambdaInstanceDetails/">Details of a Lambda Instance</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../LambdaInstanceAction/">Actions on a Lambda Instance</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../LambdaInstanceDestroy/">Destroy a Lambda Instance</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../ApplicationUpload/">Upload an Application</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../ApplicationDelete/">Delete an Application</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../ApplicationsList/">List Applications</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../ApplicationsCount/">Count Applications</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../ApplicationDetails/">Details of an Application</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../ApplicationDeploy/">Deploy an Application</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../ApplicationWithdraw/">Withdraw an Application</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../ApplicationsListDeployed/">List Deployed Applications</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../ApplicationStart/">Start an Application</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../ApplicationStop/">Stop an Application</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../UserPublicKeys/">Get SSH public keys on ~okeanos</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../VMParameterValues/">Get allowed VM Parameter Values</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../UserOkeanosProjects/">Get User ~okeanos Projects</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Central API</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../central-api/details/">Details</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../central-api/">Description</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../central-api/API_users/">User API calls</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../central-api/API_lambda_instances/">Lamdba Instances API calls</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../central-api/API_lambda_applications/">Lamdba Applications API calls</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Administration</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../admin/service/">Service VM image</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../admin/lambda/">Lambda nodes images</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../admin/messages/">Service Messages</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../../about/license/">License</a>
        
    </li>
<li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">λ on Demand</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
        
          <li>Service API &raquo;</li>
        
      
    
    <li>Technical details</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h2 id="service-api">λ service API</h2>
<p>The service API UML Class diagram is shown in the following picture. </p>
<p><img alt="Screenshot" src="../../images/service-api-uml.png" /></p>
<p>Documentation on using the λ service API as well as usage examples are available <a href="../">here</a></p>
<h2 id="service-database">λ service database</h2>
<p>A postgresql database is installed on each λ service. The schema of the database is given in the following screenshot. </p>
<p><img alt="Screenshot" src="../../images/db-schema.png" /></p>
<h2 id="cqrs-implementation">CQRS implementation</h2>
<p>On each λ service resource three Celery queues are available. These are:</p>
<ul>
<li>Tasks queue</li>
<li>Events queue</li>
<li>Statistics queue</li>
</ul>
<p>The first one (Tasks queue) delivers tasks through the API to the Fokia library. Fokia functions are registered as Celery tasks on the backend layer. By default up to two tasks may be executed on the Tasks queue at any given time. </p>
<p>The events queue withholds and executes tasks that alter the contents of the λ service database. Tasks to the event queue are delivered through tasks being executed on the Tasks queue. By default one event task executes at any given time. </p>
<p>Tasks to the statistics queue are published once again through the Tasks queue. These alter the value of the metrics collected on the central instance. </p>
<p><img alt="Screenshot" src="../../images/cqrs.png" /></p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../" class="btn btn-neutral float-right" title="Usage"/>Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../../fokia/usage/" class="btn btn-neutral" title="Usage"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>

  </div>

<div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../../fokia/usage/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>

</body>
</html>
